# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Описание базовых классов

класс EventEmitter обеспечивает работу событий. Устанавливает и снимает слушатели событий, вызывает слушателей при возниковении событий.

класс UserInfo содержит способ оплаты, адрес доставки, почту и телефон пользователя

### API

класс Api выполняет запрос к серверу и возвращает ответ с данными или ошибкой.

Поля:

baseUrl - базовый URL
options - настройки запроса

конструктор инициализирует базовый URL и настройки запроса

Методы:

handleResponse - проверяет успешность запроса и возвращает данные или ошибку
get - запрос для получения данных
post - отправляет данные на сервер

### Слой отображения

класс Component - базовый класс для отображения

конструктор принимает DOM-элемент 

Методы:

toggleClass - переключает css-класс у элемента
setText - устанавливает текстовое содержимое у элемента
setDisabled - делает кнопку активной/неактивной
setImage - устанавливает изображение


класс Page - отображение контента страницы

Поля:

container - DOM-элемент, куда вставляется контент

Методы:

setContent - отображает переданный компонент

События:

page:changed - контент страницы обновлен

класс Modal - отображает модальное окно, содержит методы open и close для открытия и закрытия страницы

Поля:

isOpen: boolean - состояние модального окна
content - текущий контент

Методы:

open - открывает модальное окно с переданным контентом
close - закрывает модальное окно

События:

modal:open - модальное окно открыто
modal:close - модальное окно закрыто

класс Card - отображает карточку товара

Поля:

item - данные товара

События:

card:add_to_basket - добавить в корзину

класс Form - форма с валидацией

Поля:

fields – значения полей формы

Методы:

submit - отправляет форму

События:

form:submit - форма отправлена

### Слой данных

класс ItemList содержит список всех товаров, хранит массив карточек. добавляет и удаляет карточки из массива, отображает все карточки

Полe: 
items - массив объектов товаров

Методы:

addItem() - добавляет товар в массив
removeItem() - удаляет товар по ID
getAllItems() - возвращает все товары

Событие itemlist:update - обновление списка товаров (например, после добавления или удаления)


класс Item создает объект с товаром, содержит название, описание, цену, категорию и изображение товара

Поля:

id - уникальный идентификатор товара
description - описание товара
image - URL изображения
title - название товара
category – категория
price – цена

События:

item:selected - выбор товара

класс BasketItem содержит название и стоимость товара, содержит метод удаления товара из корзины

Поля:

id - ID товара
name - название
price - цена

Методы:

removeFromBasket() - удаляет товар из корзины

События:

basketitem:removed – удаление товара из корзины


класc Basket хранит массив товаров из корзины, общую стоимость товаров, количество товаров, содержит метод addItem для добавления товара в корзину и removeItem для удаления товара

Поля:

items - массив товаров в корзине
totalPrice - общая стоимость
totalItems - общее количество товаров

Методы:

addItem - добавляет товар в корзину
removeItem - удаляет товар по ID
getTotal - пересчитывает сумму

События:

basket:update - обновление корзины
basket:open - открытие корзины
basket:checkout - оформление заказа.

### Слой презентора

Код презентора не будет выделен в отдельный класс, а будет содержаться в основном скрипте приложения, в файле index.ts

## Архитектура проекта

Разрабатывается с помощью паттерна MVP, в котором основными слоями являются модели данных, отвечающие за работу с данными(M), компоненты представления, отвечающие за представление(V) и презентор, отвечающий за взаимодействие между данными и отображением(P).